<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="./font-awesome-4.7.0/css/font-awesome.min.css">
  <title>Rock-Paper-Scissors</title>
</head>
<body>
  <div class="result-board">
    <h1>SCORE</h1>
    <h3 id="round">Round: 0</h3>
    <div class="player-names">
      <p id="score-player">Player: 0</p>
      <p id="score-pc">Computer: 0</p>
    </div>
  </div>
  <div class="buttons">
    <button class="fa fa-hand-paper-o fa-2x btn red" aria-hidden="true">paper</button>
    <button class="fa fa-hand-rock-o fa-2x btn green" aria-hidden="true">rock</button>
    <button class="fa fa-hand-scissors-o fa-2x btn brown" aria-hidden="true">scissors</button>
  </div>
  <p class="para"></p>
  <script>
    const btns = document.querySelectorAll(".btn");
    const box = document.querySelector(".para");

    let playerScore = 0;
    let computerScore = 0;
    let rounds = 0;

    btns.forEach(btn => {
      btn.addEventListener('click', () => {
        playRound(btn.textContent, getComputerChoice());
        reset();
      });
    });
    
    function getComputerChoice() {
      //Options computer can "pick"
      let options = ["rock", "paper", "scissors"];
      
      //Randomly generate and index from 0 to 2 
      let randNum = Math.floor(Math.random()*3);
      
      //Return a random element from options array 
      //utilizing random number from randNum 
      return options[randNum];
    }

    function playRound(playerSelection, computerSelection) {  
      
      //Main logic to get the message who wins the round
      //and return value to later determine who increments the score
      if (playerSelection === computerSelection) {
        rounds++;
        box.textContent = `It's a tie!. Both picked a ${playerSelection}.`;
        document.getElementById("round").innerHTML = "Round:  " + rounds;
        document.getElementById("score-player").innerHTML = "Player:  " + playerScore;
        document.getElementById("score-pc").innerHTML = "Computer:  " + computerScore;
      } else if (
        (playerSelection === 'paper' && computerSelection === 'scissors') || 
        (playerSelection === 'rock'  && computerSelection === 'paper') ||
        (playerSelection === 'scissors' && computerSelection === 'rock') ) {
          rounds++;
          computerScore++;
          box.textContent = `You lose! Computer's ${computerSelection} beats your ${playerSelection}.`;
          document.getElementById("round").innerHTML = "Round:  " + rounds;
          document.getElementById("score-player").innerHTML = "Player:  " + playerScore;
          document.getElementById("score-pc").innerHTML = "Computer:  " + computerScore;
      } else {
          box.textContent = `You win! Your ${playerSelection} beats computer's ${computerSelection}.`;
          rounds++;
          playerScore++;
          document.getElementById("round").innerHTML = "Round:  " + rounds;
          document.getElementById("score-player").innerHTML = "Player:  " + playerScore;
          document.getElementById("score-pc").innerHTML = "Computer:  " + computerScore;
        }
    }

    function reset() {

      //Final message to get to know who won the game
      if(rounds === 10) {
        if(playerScore === computerScore) {
          box.textContent = `After ${rounds} epic rounds...It's a TIE!!! \n ${playerScore} : ${computerScore}`;
        } else if(playerScore > computerScore) {
          box.textContent = `After ${rounds} epic rounds...Player WINS!!! \n ${playerScore} : ${computerScore}`;
        } else {
          box.textContent = `After ${rounds} epic rounds...Computer WINS!!! \n ${computerScore} : ${playerScore}`;
        }
        rounds = 0;
        playerScore = 0;
        computerScore = 0;
        document.getElementById("round").innerHTML = "Round:  " + rounds;
        document.getElementById("score-player").innerHTML = "Player:  " + playerScore;
        document.getElementById("score-pc").innerHTML = "Computer:  " + computerScore;
      }
    }
    
  
  </script>
</body>
</html>